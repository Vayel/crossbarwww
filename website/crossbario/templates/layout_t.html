<!doctype html>
<html class="no-js">
   <head>

      <meta charset="utf-8" />
      <title>Crossbar.io application router</title>

      <!-- disabling the below yields zoomed-out full display on mobile devices, but prevents the navbar from collapsing -->
      <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
      <meta name="viewport" content="initial-scale=1.0">
      <!-- <meta name="viewport" content="width=480"> -->

      <link rel="shortcut icon" href="{{ url_for('static', filename = 'img/favicon.ico') }}">

      <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
      <!-- needs to be loaded in head -->
       <!--[if lt IE 9]>
           <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
       <![endif]-->

      <!-- Modernizr -->
      <!-- <script src="{{ url_for('static', filename = 'deps/modernizr.custom.js') }}"></script> -->
      <script src="{{ url_for('static', filename = 'deps/modernizr.custom.svg.fontface.vw.media.js') }}"></script>

      <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700|Montserrat:400,700|Play:400,700' rel='stylesheet' type='text/css'> -->
      <!-- <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic,700italic|Montserrat:400,700|Play:400,700' rel='stylesheet' type='text/css'> -->

      <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'deps/bootstrap/bootstrap.min.css') }}" />

      <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'css/crossbar.css') }}" />

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-23019220-6', 'crossbar.io');
        ga('send', 'pageview');
      </script>

      {% block subheader %}{% endblock %}

   </head>

   <body>

      <!--[if lt IE 9]>

         <div id="ltIE9">

      <![endif]-->

      <div id="wrap">

         <!-- Fixed navbar -->
         <nav class="navbar navbar-inverse navbar-static-top" role="navigation">

            <div class="navbar-header">

               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
               </button>

               <a class="navbar-brand" href="#">
                  <img src="{{ url_for('static', filename = 'img/gen/crossbar_icon_inverted.svg') }}" alt="crossbar logo inverted" width="30" height="30">
                  <span class="fontFace">
                     <span>Crossbar</span><span>.io</span>
                  </span>

                  <img class="nonDisplay noFontFace" id="crossbarNameHeader" src="{{ url_for('static', filename = 'img/gen/crossbar_name_lighter.png') }}" alt="">

               </a>

            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">

               <ul class="nav navbar-nav">

                  <li {% if session['tab_selected'] == 'page_home' %} class="active" {% else %} class="" {% endif %}>
                     <a href="{{ url_for('page_home') }}">
                        Home
                     </a>
                  </li>
                  <li {% if session['tab_selected'] == 'page_howitworks' %} class="active" {% else %} class="" {% endif %}>
                     <a href="{{ url_for('page_howitworks') }}">
                        How It Works
                     </a>
                  </li>
                  <!-- <li {% if session['tab_selected'] == 'page_gettingstarted' %} class="active" {% else %} class="" {% endif %}>
                     <a href="{{ url_for('page_gettingstarted') }}">Getting Started</a>
                  </li> -->
                  <li {% if session['tab_selected'] == 'page_features' %} class="active" {% else %} class="" {% endif %}>
                     <a href="{{ url_for('page_features') }}">
                        Features
                     </a>
                  </li>
                  <!-- <li {% if session['tab_selected'] == 'page_roadmap' %} class="active" {% else %} class="" {% endif %}>
                     <a href="{{ url_for('page_roadmap') }}">
                        Roadmap
                     </a>
                  </li> -->
                  <li {% if session['tab_selected'] == 'page_faq' %} class="active last" {% else %} class="last" {% endif %}>
                     <a href="{{ url_for('page_faq') }}">
                        FAQ
                     </a>
                  </li>
                  <!-- <li {% if session['tab_selected'] == 'page_reference' %} class="active" {% else %} class="" {% endif %}>
                     <a href="{{ url_for('page_reference') }}">Reference</a>
                  </li> -->
                 <!--  <li {% if session['tab_selected'] == 'page_contribute' %} class="active" {% else %} class="" {% endif %}>
                     <a href="{{ url_for('page_contribute') }}">Contribute</a>
                  </li> -->

                  <!-- external links -->
                  <li class="external first">
                     <a href="https://demo.crossbar.io/">
                        Demos
                     </a>
                  </li>
                  <li class="external">
                     <a href="https://github.com/crossbario/crossbar/wiki">
                        Documentation
                     </a>
                  </li>

               </ul>

             </div>

         </nav>

         <noscript>
            <div>
               <p>
                  This site is best used with JavaScript turned on.
               </p>
               <p>
                  While the majority of functionality should work in most browsers, some enhancements, handling of corner cases and adaptation to browser capabilities may not.
               </p>
            </div>

         </noscript>

         <!-- community widget iframe -->
         {% if session["widgeturl"] %}
         <!-- general styles for the widget -->
         <link rel="stylesheet" type="text/css" href="{{ session["widgeturl"] }}/css/parent.css" />
         <!-- site-specific modifications -->
         <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'css/communitywidget.css') }}" />

         <iframe id="communityWidget" src="{{ session["widgeturl"] }}/index.html" frameborder="0"></iframe>
         <script src="{{ session["widgeturl"] }}/js/parent.js"></script>
         {% else %}
         <!-- Community Widget stripped! -->
         {% endif %}

         <!-- block for the github banner -->
         <!-- {% block githubbanner %}{% endblock %} -->

         {% macro crossbar() -%}
            <a href="http://crossbar.io/" class="crossbarLink">
               <span class="crossbar">
                  <span>Crossbar</span><span>.io</span>
               </span>
            </a>
         {%- endmacro %}

         <div id="container">

            <!--block for the page content-->
            {% block content %}{% endblock %}

         </div>

      </div>

      <div id="footer">
        <!--  <div id="fallbackPage">
            <p>
               Trouble with displaying the images on this page correctly?
            </p>
            <p>
               We use SVG (Scalable Vector Graphics) for our graphics. These can be viewed at any zoom level, but not all browsers display correctly yet.
            </p>
            <p>
               We also offer a page which replaces these with bitmap images.
            </p>
         </div> -->
         <center>
            Copyright &copy; 2013, The Crossbar.io project and contributors.<br>
            Content licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons CC-BY-SA</a> and code licensed under <a href="http://opensource.org/licenses/AGPL-3.0">AGPL 3.0</a>.<br>
            "Crossbar.io" and the Crossbar.io logo are trademarks of <a href="http://www.tavendo.com">Tavendo</a>.<br>
            <div id="impressum">
               <a id="impressumLink" href="{{ url_for('page_impressum') }}">Impressum</a>
            </div>
         </center>
      </div>

   <!--[if lt IE 9]>

      </div>

   <![endif]-->





      <!-- enable basic media queries on older browsers -->
      <!--[if lt IE 9]>
           <script src="{{ url_for('static', filename = 'deps/respond.min.js') }}"></script>
       <![endif]-->

      <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
      <script src="{{ url_for('static', filename = 'deps/jquery-1.10.2.min.js') }}"></script>

      <!-- yahoo browser detect for some corner cases -->
      <script src="{{ url_for('static', filename = 'deps/yahooBrowserDetect.js') }}"></script>


      <script type="text/javascript">
         // SVG vs. PNG detection and switching

         if(!Modernizr.svg) {
            // switch out all SVGs for PNGs on unsupported browsers
            // loads both SVG + PNG on these, but then it's only a fallback
            // for some cases
            switchToPNG();
         }
         // Android browser does very badly with SVG, so switch to PNG for this
         if(YAHOO.env.ua.android != 0 && YAHOO.env.ua.chrome === 0) {
            // alert("android browser!"  + YAHOO.env.ua.chrome);
            switchToPNG();
            var html= document.getElementsByTagName("html");
            // needed for the CSS background image switching which is based on the Modernizr classes
            $(html).removeClass("svg").addClass("no-svg");
         }

         // check if forceSwitchToPNG is present in link fragment identifier
         var forceSwitchToPNG = false,
             pageURL = window.location.href;
         if(pageURL.indexOf('#') !== -1) {
            var hashPart = pageURL.split('#')[1];
            if(hashPart === "forceSwitchToPNG") {
               forceSwitchToPNG = true;
            }
         }
         if(forceSwitchToPNG === true) {
            switchToPNG();
            var html= document.getElementsByTagName("html");
            // needed for the CSS background image switching which is based on the Modernizr classes
            $(html).removeClass("svg").addClass("no-svg");
         }


         // fontface support detection and switching

         if(!Modernizr.fontface || document.getElementById("ltIE9")) {
            // switch out any elements which absolutely require a web font
            // for display (e.g. logos)
            // with a PNG counterpart
            // IE8 is included here since it supports Web fonts, but only
            // in EOT format, which we don't have (and don't want to produce)
            // for our used fonts
            $(".fontFace").addClass("nonDisplay");
            $(".noFontFace").removeClass("nonDisplay");
         }



         function switchToPNG () {
            // get all img elements on the page
            // and replace any SVGs with PNGs
            // requires that SVG & PNGs exist at the same path
            // with only different file extensions

            var imgLinks = document.getElementsByTagName("img"),
                imgLinksLength = imgLinks.length;

            for(var i = 0; i < imgLinksLength; i++ ) {
               var cur = imgLinks[i],
                   curLink = cur.src,
                   curLinkType = curLink.split(".").pop(),
                   curLinkBase = curLink.slice(0, curLink.lastIndexOf(".")),
                   newLink;

               if(curLinkType === "svg") {
                  newLink = curLinkBase + ".png";
                  cur.src = newLink;
               }

            }
         }

         /* JS part of fix for IE10/WP8 viewport width reporting problem */
         /* http://getbootstrap.com/getting-started/#browsers */
         if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
           var msViewportStyle = document.createElement("style")
           msViewportStyle.appendChild(
             document.createTextNode(
               "@-ms-viewport{width:auto!important}"
             )
           )
           document.getElementsByTagName("head")[0].appendChild(msViewportStyle)
         }

      </script>
      <!-- Include all compiled plugins (below), or include individual files as needed -->
      <script src="{{ url_for('static', filename = 'deps/bootstrap/bootstrap.min.js') }}"></script>

      <script src="{{ url_for('static', filename = 'js/crossbar.js') }}"></script>

      <script src="{{ url_for('static', filename = 'deps/autobahn/autobahn.min.js') }}"></script>
      <!-- <script src="{{ url_for('static', filename = 'js/cbtrack.js') }}"></script> -->

      {% block additionalload %}{% endblock %}

   </body>
</html>
